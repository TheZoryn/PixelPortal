<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Game Portal</title>
<style>
  /* Reset & basic styling */
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
  body { background: #1e1e2f; color: #fff; display: flex; flex-direction: column; min-height: 100vh; }
  header { background: #3c3c5c; padding: 1rem; text-align: center; font-size: 2rem; font-weight: bold; letter-spacing: 2px; }
  main { flex: 1; display: flex; justify-content: center; align-items: center; padding: 2rem; }
  .game-container { background: #2a2a3d; border-radius: 15px; padding: 2rem; text-align: center; width: 350px; max-width: 90%; }
  button { padding: 0.5rem 1rem; font-size: 1rem; border: none; border-radius: 5px; background: #ff6f61; color: #fff; cursor: pointer; margin-top: 1rem; }
  canvas { background: #000; display: block; margin: 0 auto; border-radius: 10px; }
  p { margin-top: 1rem; font-size: 0.9rem; color: #ccc; }
</style>
</head>
<body>
<header>My Game Portal</header>
<main>
  <div class="game-container">
    <canvas id="game" width="300" height="400"></canvas>
    <p>Use arrow keys or swipe to move the block!</p>
    <button id="restartBtn">Restart Game</button>
  </div>
</main>

<script>
/* Simple Block Avoider Game */
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');

let player = { x: 140, y: 350, w: 20, h: 20, speed: 20 };
let obstacles = [];
let gameOver = false;
let score = 0;

/* Keyboard controls */
document.addEventListener('keydown', e => {
    if (e.key === 'ArrowLeft' && player.x > 0) player.x -= player.speed;
    if (e.key === 'ArrowRight' && player.x < canvas.width - player.w) player.x += player.speed;
});

/* Touch controls */
let startX = 0;
canvas.addEventListener('touchstart', e => { startX = e.touches[0].clientX; });
canvas.addEventListener('touchmove', e => {
    let dx = e.touches[0].clientX - startX;
    if(dx > 20 && player.x < canvas.width - player.w) player.x += player.speed;
    if(dx < -20 && player.x > 0) player.x -= player.speed;
    startX = e.touches[0].clientX;
});

/* Restart button */
document.getElementById('restartBtn').addEventListener('click', () => {
    player.x = 140;
    obstacles = [];
    gameOver = false;
    score = 0;
    animate();
});

/* Game Loop */
function spawnObstacle() {
    const w = Math.random() * 50 + 20;
    obstacles.push({ x: Math.random() * (canvas.width - w), y: -20, w, h: 20 });
}

function update() {
    if(gameOver) return;

    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Draw player
    ctx.fillStyle = '#00ff00';
    ctx.fillRect(player.x, player.y, player.w, player.h);

    // Obstacles
    ctx.fillStyle = '#ff0000';
    obstacles.forEach((obs, index) => {
        obs.y += 3;
        ctx.fillRect(obs.x, obs.y, obs.w, obs.h);

        // Collision
        if(player.x < obs.x + obs.w && player.x + player.w > obs.x &&
           player.y < obs.y + obs.h && player.y + player.h > obs.y) {
            gameOver = true;
            ctx.fillStyle = '#fff';
            ctx.font = '20px Arial';
            ctx.fillText('Game Over!', 90, 200);
            ctx.fillText('Score: ' + score, 100, 230);
        }

        // Remove off-screen
        if(obs.y > canvas.height) {
            obstacles.splice(index,1);
            score++;
        }
    });
}

/* Animation loop */
function animate() {
    if(gameOver) return;
    update();
    requestAnimationFrame(animate);
}

/* Spawn obstacles every 1 second */
setInterval(() => { if(!gameOver) spawnObstacle(); }, 1000);

animate();
</script>
</body>
</html>
